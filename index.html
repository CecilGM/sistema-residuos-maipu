<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGRM - Sistema de Gesti√≥n de Residuos Maip√∫</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #e3f2fd; padding: 20px; min-height: 100vh; }
        .container { max-width: 1200px; margin: 0 auto; }
        .municipio-header { background: linear-gradient(135deg, #1976D2, #42A5F5); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .municipio-header h1 { font-size: 24px; margin-bottom: 20px; text-align: center; }
        .municipio-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .municipio-item { background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.3); border-radius: 10px; padding: 15px; text-align: center; transition: all 0.3s ease; cursor: pointer; }
        .municipio-item:hover { background: rgba(255,255,255,0.3); transform: translateY(-2px); }
        .municipio-icon { font-size: 30px; margin-bottom: 8px; }
        .municipio-name { font-size: 14px; color: white; font-weight: bold; }
        .cards-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: linear-gradient(135deg, #bbdefb, #e3f2fd); border-radius: 10px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.3s ease; border: 2px solid #90caf9; }
        .card:hover { transform: translateY(-5px); }
        .card h2 { color: #1565C0; margin-bottom: 15px; border-bottom: 2px solid #42A5F5; padding-bottom: 10px; }
        .main-service-card { background: linear-gradient(135deg, #bbdefb, #e3f2fd); border-radius: 10px; padding: 30px; text-align: center; border: 2px solid #90caf9; }
        .service-title { font-size: 28px; color: #1976D2; margin-bottom: 10px; font-weight: bold; }
        .service-subtitle { font-size: 18px; color: #1565C0; margin-bottom: 30px; }
        .service-options-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; }
        .service-option { text-align: center; padding: 20px; border: 2px solid #90caf9; border-radius: 10px; transition: all 0.3s ease; cursor: pointer; background: rgba(255,255,255,0.7); }
        .service-option:hover, .service-option.clickable:hover { border-color: #1976D2; background: rgba(255,255,255,0.9); transform: scale(1.05); }
        .service-icon { font-size: 50px; margin-bottom: 15px; }
        .service-name { font-size: 16px; color: #1565C0; font-weight: bold; margin-bottom: 5px; }
        .service-description { font-size: 14px; color: #1976D2; }
        .hidden { display: none; }
        footer { background: #1976D2; color: white; text-align: center; padding: 20px; border-radius: 10px; margin-top: 30px; }
        .warning { background: #F8D7DA; border: 1px solid #F5C6CB; color: #721C24; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; color: #1565C0; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #90caf9; border-radius: 5px; background: rgba(255,255,255,0.8); }
        .submit-button, .back-button { background: #1976D2; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 15px; }
        .submit-button:hover, .back-button:hover { background: #1565C0; }
        .back-button { width: auto; }
        .tracking-card { background: linear-gradient(135deg, #bbdefb, #e3f2fd); border-radius: 10px; padding: 20px; margin: 10px 0; border: 2px solid #90caf9; }
        .status-timeline { display: flex; justify-content: space-between; margin: 20px 0; position: relative; }
        .status-timeline::before { content: ''; position: absolute; top: 20px; left: 0; right: 0; height: 3px; background: #90caf9; }
        .status-step { text-align: center; position: relative; z-index: 2; flex: 1; }
        .status-circle { width: 40px; height: 40px; border-radius: 50%; background: #90caf9; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; transition: all 0.3s ease; }
        .status-circle.active { background: #1976D2; transform: scale(1.1); }
        .status-circle.completed { background: #4CAF50; }
        .status-label { font-size: 12px; color: #1565C0; font-weight: bold; }
        .claim-details { background: rgba(255,255,255,0.5); padding: 15px; border-radius: 8px; margin: 15px 0; }
        .claim-info { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        .claim-info strong { color: #1565C0; }
        .no-claims { text-align: center; padding: 40px; color: #666; }
        .tracking-actions { display: flex; gap: 10px; margin-top: 15px; }
        .action-button { flex: 1; padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; color: white; }
        .update-status { background: #FF9800; }
        .update-status:hover { background: #F57C00; }
        .view-details { background: #2196F3; }
        .view-details:hover { background: #1976D2; }
    </style>
</head>
<body>
    <div class="container">
        <div class="municipio-header">
            <h1>Maip√∫ / MUNICIPIO</h1>
            <div class="municipio-grid">
                <div class="municipio-item"><div class="municipio-icon">üè†</div><div class="municipio-name">Home</div></div>
                <div class="municipio-item"><div class="municipio-icon">üíª</div><div class="municipio-name">Page en L√≠nea</div></div>
                <div class="municipio-item"><div class="municipio-icon">üí∞</div><div class="municipio-name">Rentes</div></div>
                <div class="municipio-item"><div class="municipio-icon">üîç</div><div class="municipio-name">Transparencia</div></div>
                <div class="municipio-item"><div class="municipio-icon">üöó</div><div class="municipio-name">Lic. de Conducir</div></div>
                <div class="municipio-item"><div class="municipio-icon">üöõ</div><div class="municipio-name">Gesti√≥n de residuos</div></div>
                <div class="municipio-item"><div class="municipio-icon">üó∫Ô∏è</div><div class="municipio-name">Planificaci√≥n Territorial</div></div>
                <div class="municipio-item"><div class="municipio-icon">üé≠</div><div class="municipio-name">Cine Teatro Imperial</div></div>
                <div class="municipio-item"><div class="municipio-icon">üì¢</div><div class="municipio-name">Novedades</div></div>
            </div>
        </div>

        <div class="cards-container">
            <div class="main-service-card" id="main-card">
                <div class="service-title">SGRM</div>
                <div class="service-subtitle">Sistema de Gesti√≥n de Residuos Maip√∫</div>
                <div class="service-options-grid">
                    <div class="service-option clickable" onclick="showAllCards()"><div class="service-icon">üöõ</div><div class="service-name">Recolecci√≥n</div><div class="service-description">Horarios y recorridos</div></div>
                    <div class="service-option"><div class="service-icon">üìç</div><div class="service-name">Reportar Residuos</div><div class="service-description">Reporta residuos en la v√≠a p√∫blica</div></div>
                    <div class="service-option"><div class="service-icon">üîî</div><div class="service-name">Notificaciones</div><div class="service-description">Alertas y actualizaciones</div></div>
                </div>
                <div style="text-align:center;margin-top:30px"><div class="service-name">Cont√°ctanos</div></div>
                <div style="text-align:center;margin-top:30px;color:#1565C0"><p><strong>SCBM.COM</strong> - PARTE DE SCBM S.B.L.</p><p>COPYRIGHT ¬© 2025 SCBM.COM‚Ñ¢</p></div>
            </div>

            <div class="card hidden" id="services-card">
                <h2>üîß Servicios Principales</h2>
                <p>Selecciona el servicio que necesitas</p>
                <div class="service-options-grid">
                    <div class="service-option clickable" onclick="showScheduleCard()"><div class="service-icon">üöõ</div><div class="service-name">Horarios</div><div class="service-description">Consulta horarios</div></div>
                    <div class="service-option clickable" onclick="showReportCard()"><div class="service-icon">üìç</div><div class="service-name">Reportar</div><div class="service-description">Informa residuos</div></div>
                    <div class="service-option clickable" onclick="showTrackingCard()"><div class="service-icon">üìã</div><div class="service-name">Seguimiento</div><div class="service-description">Estado de reportes</div></div>
                </div>
            </div>

            <div class="card hidden" id="report-card">
                <h2>üìç Reportar Residuos</h2>
                <div class="warning"><strong>¬°ATENCI√ìN!</strong><br>Verifica tu cuenta antes de reportar</div>
                <form id="report-form">
                    <div class="form-group"><label>Nombre completo:</label><input type="text" id="user-name" placeholder="Tu nombre completo" required></div>
                    <div class="form-group"><label>Correo electr√≥nico:</label><input type="email" id="user-email" placeholder="tu@email.com" required></div>
                    <div class="form-group"><label>Fotos:</label><input type="file" id="photo" accept="image/*" multiple></div>
                    <div class="form-group"><label>Ubicaci√≥n:</label><select id="location" required><option value="">Selecciona ubicaci√≥n</option><option value="canoja">Canoja</option><option value="grau">Grau Outlerez</option><option value="maipu">Maip√∫ Centro</option></select></div>
                    <div class="form-group"><label>Direcci√≥n:</label><input type="text" id="address" placeholder="Av. Principal 123" required></div>
                    <div class="form-group"><label>Descripci√≥n:</label><textarea id="description" rows="4" placeholder="Describe el problema..." required></textarea></div>
                    <button type="button" class="submit-button" onclick="submitReport()">Enviar Reporte</button>
                </form>
                <button class="back-button" onclick="showServicesCard()">‚Üê Volver</button>
            </div>

            <div class="card hidden" id="tracking-card">
                <h2>üìã Seguimiento de Reclamos</h2>
                <p>Consulta el estado de tus reportes</p>
                <div id="claims-list"></div>
                <button class="back-button" onclick="showServicesCard()">‚Üê Volver</button>
            </div>
        </div>

        <footer>
            <p><strong>SGRM.COM</strong> - Parte de SGRM S.B.L.</p>
            <p>COPYRIGHT ¬© 2025 SGRM.COM‚Ñ¢. TODOS LOS DERECHOS RESERVADOS.</p>
            <p>Municipalidad de Maip√∫ - Gesti√≥n Urbana</p>
        </footer>
    </div>

    <script>
        let claims = JSON.parse(localStorage.getItem('sgrn_claims')) || [];
        let claimCounter = parseInt(localStorage.getItem('sgrn_claim_counter')) || 1;

        function showAllCards() { 
            document.getElementById('main-card').classList.add('hidden'); 
            document.getElementById('services-card').classList.remove('hidden'); 
        }

        function showServicesCard() { 
            hideAllSpecificCards(); 
            document.getElementById('services-card').classList.remove('hidden'); 
        }

        function showReportCard() { 
            hideAllSpecificCards(); 
            document.getElementById('report-card').classList.remove('hidden'); 
        }

        function showTrackingCard() { 
            hideAllSpecificCards(); 
            document.getElementById('tracking-card').classList.remove('hidden'); 
            displayClaims(); 
        }

        function hideAllSpecificCards() { 
            ['services-card', 'report-card', 'tracking-card'].forEach(cardId => { 
                document.getElementById(cardId)?.classList.add('hidden'); 
            }); 
        }

        function submitReport() {
            const name = document.getElementById('user-name').value;
            const email = document.getElementById('user-email').value;
            const location = document.getElementById('location').value;
            const address = document.getElementById('address').value;
            const description = document.getElementById('description').value;

            if (!name || !email || !location || !address || !description) {
                alert('Por favor, completa todos los campos obligatorios.');
                return;
            }

            const newClaim = {
                id: claimCounter,
                name: name,
                email: email,
                location: location,
                address: address,
                description: description,
                status: 'creado',
                date: new Date().toLocaleString(),
                updates: [{
                    status: 'creado',
                    date: new Date().toLocaleString(),
                    description: 'Reclamo registrado en el sistema'
                }]
            };

            claims.push(newClaim);
            claimCounter++;
            localStorage.setItem('sgrn_claims', JSON.stringify(claims));
            localStorage.setItem('sgrn_claim_counter', claimCounter.toString());
            document.getElementById('report-form').reset();
            alert(`¬°Reporte enviado! Tu n√∫mero de reclamo es: #${newClaim.id}`);
            showServicesCard();
        }

        function displayClaims() {
            const claimsList = document.getElementById('claims-list');
            if (claims.length === 0) {
                claimsList.innerHTML = `<div class="no-claims"><div class="service-icon">üìù</div><h3>No tienes reclamos</h3><p>Cuando hagas un reporte, podr√°s verlo aqu√≠.</p></div>`;
                return;
            }

            claimsList.innerHTML = claims.map(claim => `
                <div class="tracking-card">
                    <div class="claim-details">
                        <div class="claim-info">
                            <div><strong>N¬∞ Reclamo:</strong> #${claim.id}</div>
                            <div><strong>Fecha:</strong> ${claim.date}</div>
                            <div><strong>Ubicaci√≥n:</strong> ${claim.location}</div>
                            <div><strong>Direcci√≥n:</strong> ${claim.address}</div>
                        </div>
                        <div><strong>Descripci√≥n:</strong> ${claim.description}</div>
                    </div>
                    <div class="status-timeline">
                        <div class="status-step">
                            <div class="status-circle ${claim.status === 'creado' ? 'active' : ''} ${['pendiente','finalizado'].includes(claim.status) ? 'completed' : ''}">1</div>
                            <div class="status-label">Creado</div>
                        </div>
                        <div class="status-step">
                            <div class="status-circle ${claim.status === 'pendiente' ? 'active' : ''} ${claim.status === 'finalizado' ? 'completed' : ''}">2</div>
                            <div class="status-label">Pendiente</div>
                        </div>
                        <div class="status-step">
                            <div class="status-circle ${claim.status === 'finalizado' ? 'active completed' : ''}">3</div>
                            <div class="status-label">Finalizado</div>
                        </div>
                    </div>
                    <div class="tracking-actions">
                        <button class="action-button view-details" onclick="viewClaimDetails(${claim.id})">Ver Detalles</button>
                        ${claim.status !== 'finalizado' ? `<button class="action-button update-status" onclick="simulateStatusUpdate(${claim.id})">Simular Avance</button>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function viewClaimDetails(claimId) {
            const claim = claims.find(c => c.id === claimId);
            if (claim) {
                alert(`Detalles del Reclamo #${claim.id}:\n\nEstado: ${claim.status.toUpperCase()}\nFecha: ${claim.date}\nUbicaci√≥n: ${claim.location}\nDirecci√≥n: ${claim.address}\nDescripci√≥n: ${claim.description}\n\nHistorial:\n${claim.updates.map(update => `‚Ä¢ ${update.date}: ${update.description}`).join('\n')}`);
            }
        }

        function simulateStatusUpdate(claimId) {
            const claim = claims.find(c => c.id === claimId);
            if (!claim) return;
            const statusOrder = ['creado', 'pendiente', 'finalizado'];
            const currentIndex = statusOrder.indexOf(claim.status);
            if (currentIndex < statusOrder.length - 1) {
                const newStatus = statusOrder[currentIndex + 1];
                claim.status = newStatus;
                claim.updates.push({
                    status: newStatus,
                    date: new Date().toLocaleString(),
                    description: getStatusDescription(newStatus)
                });
                localStorage.setItem('sgrn_claims', JSON.stringify(claims));
                displayClaims();
                alert(`El reclamo #${claimId} ha avanzado a: ${newStatus.toUpperCase()}`);
            }
        }

        function getStatusDescription(status) {
            const descriptions = {
                'creado': 'Reclamo registrado en el sistema',
                'pendiente': 'En revisi√≥n por el equipo de gesti√≥n',
                'finalizado': 'Problema resuelto y reclamo cerrado'
            };
            return descriptions[status] || 'Estado actualizado';
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.municipio-item').forEach(item => {
                if (item.querySelector('.municipio-icon').textContent === 'üöõ') {
                    item.style.cursor = 'pointer';
                    item.onclick = showAllCards;
                }
            });
        });
    </script>
</body>
</html>
